var ConcreteDashboard=function(){setupResultMessages=function(){if($("#ccm-dashboard-result-message").length>0){if($(".ccm-pane").length>0){var a=$(".ccm-pane").parent().attr("class"),t=$(".ccm-pane").parent().parent().attr("class"),e=$("#ccm-dashboard-result-message").html();$("#ccm-dashboard-result-message").html('<div class="'+t+'"><div class="'+a+'">'+e+"</div></div>").fadeIn(400)}}else $("#ccm-dashboard-result-message").fadeIn(200)};var a=function(){var t=$("a[data-bookmark-action=add-favorite]"),e=$("a[data-bookmark-action=remove-favorite]"),o=!1;if(t.length)var o=CCM_DISPATCHER_FILENAME+"/ccm/system/panels/dashboard/add_favorite",c=t;else if(e.length)var o=CCM_DISPATCHER_FILENAME+"/ccm/system/panels/dashboard/remove_favorite",c=e;o&&c.on("click",function(t){t.preventDefault(),$.concreteAjax({dataType:"json",type:"GET",data:{cID:$(this).attr("data-page-id"),ccm_token:$(this).attr("data-token")},url:o,success:function(t){"remove"==t.action?(c.attr("data-bookmark-action","add-favorite"),c.html('<i class="fa fa-lg fa-bookmark-o"></i>')):(c.attr("data-bookmark-action","remove-favorite"),c.html('<i class="fa fa-lg fa-bookmark"></i>')),a()}})})},t=function(){$("table.ccm-search-results-table tr[data-details-url]").each(function(){$(this).hover(function(){$(this).addClass("ccm-search-select-hover")},function(){$(this).removeClass("ccm-search-select-hover")}).on("click",function(){window.location.href=$(this).data("details-url")})})},e=function(){0==$("#ccm-tooltip-holder").length&&$("<div />").attr("id","ccm-tooltip-holder").attr("class","ccm-ui").prependTo(document.body),$(".launch-tooltip").tooltip({container:"#ccm-tooltip-holder"})},o=function(){$(".dialog-launch").dialog(),$("div#ccm-dashboard-page").on("click","[data-dialog]",function(){var a=$(this).attr("data-dialog-width");a||(a=320);var t="div[data-dialog-wrapper="+$(this).attr("data-dialog")+"]";jQuery.fn.dialog.open({element:t,modal:!0,width:a,title:$(this).attr("data-dialog-title"),height:"auto"})})},c=function(){$("select[data-select=bootstrap]").bootstrapSelectToButton()},r=function(){var a=$(".ccm-dashboard-header-buttons"),t=$("header div.ccm-dashboard-header-menu");a.length&&("form"==a.parent().get(0).nodeName.toLowerCase()?t.append(a.parent()):t.append(a))};return{start:function(s){e(),setupResultMessages(),r(),o(),c(),t(),a()}}}();